<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" version="XHTML+RDFa 1.0" dir="ltr">

<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="using-ncl-vapor.html" />
<link rel="shortlink" href="../../node/28561.html" />
<link rel="prev" href="using-idl-vapor.html" />
<link rel="up" href="../data-analysis-vapor.html" />
<link rel="next" href="using-python-vapor.html" />
<link rel="shortcut icon" href="../../sites/default/themes/troposphere/favicon.ico" type="image/vnd.microsoft.icon" />
  <title>Using NCL with VAPOR | VAPOR | Computational Information Systems Laboratory</title>
  <style type="text/css" media="all">
@import url("https://www.vapor.ucar.edu/modules/system/system.base.css?pv0ud8");
@import url("https://www.vapor.ucar.edu/modules/system/system.menus.css?pv0ud8");
@import url("https://www.vapor.ucar.edu/modules/system/system.messages.css?pv0ud8");
@import url("https://www.vapor.ucar.edu/modules/system/system.theme.css?pv0ud8");
</style>
<style type="text/css" media="all">
@import url("https://www.vapor.ucar.edu/modules/book/book.css?pv0ud8");
@import url("https://www.vapor.ucar.edu/modules/comment/comment.css?pv0ud8");
@import url("../../sites/all/modules/date/date_api/date.css%3Fpv0ud8.css");
@import url("../../sites/all/modules/date/date_popup/themes/datepicker.1.7.css%3Fpv0ud8.css");
@import url("https://www.vapor.ucar.edu/modules/field/theme/field.css?pv0ud8");
@import url("../../sites/default/modules/contrib/google_cse/google_cse.css%3Fpv0ud8.css");
@import url("https://www.vapor.ucar.edu/modules/node/node.css?pv0ud8");
@import url("https://www.vapor.ucar.edu/modules/search/search.css?pv0ud8");
@import url("https://www.vapor.ucar.edu/modules/user/user.css?pv0ud8");
@import url("https://www.vapor.ucar.edu/modules/forum/forum.css?pv0ud8");
@import url("../../sites/all/modules/views/css/views.css%3Fpv0ud8.css");
</style>
<style type="text/css" media="all">
@import url("../../sites/all/modules/ctools/css/ctools.css%3Fpv0ud8.css");
@import url("../../sites/default/modules/contrib/tb_megamenu/css/bootstrap.css%3Fpv0ud8.css");
@import url("../../sites/default/modules/contrib/tb_megamenu/css/base.css%3Fpv0ud8.css");
@import url("../../sites/default/modules/contrib/tb_megamenu/css/default.css%3Fpv0ud8.css");
@import url("../../sites/default/modules/contrib/tb_megamenu/css/compatibility.css%3Fpv0ud8.css");
</style>
<link type="text/css" rel="stylesheet" href="using-ncl-vapor.html" media="all" />
<style type="text/css" media="all">
@import url("../../sites/default/themes/atmos/css/fonts.css%3Fpv0ud8.css");
@import url("../../sites/default/themes/atmos/css/layout.css%3Fpv0ud8.css");
@import url("../../sites/default/themes/atmos/css/nice_menus_default.css%3Fpv0ud8.css");
@import url("../../sites/default/themes/atmos/css/style.css%3Fpv0ud8.css");
@import url("../../sites/default/files/color/troposphere-81dde954/colors.css%3Fpv0ud8.css");
@import url("../../sites/default/themes/atmos/css/atmos_imgcaption.css%3Fpv0ud8.css");
@import url("../../sites/default/themes/atmos/css/atmos_tinymce.css%3Fpv0ud8.css");
@import url("../../sites/default/themes/atmos/css/custom.css%3Fpv0ud8.css");
@import url("../../sites/default/themes/troposphere/css/override.css%3Fpv0ud8.css");
</style>
<style type="text/css" media="print">
@import url("../../sites/default/themes/atmos/css/print.css%3Fpv0ud8.css");
</style>

<!--[if IE]>
<link type="text/css" rel="stylesheet" href="https://www.vapor.ucar.edu/sites/default/themes/troposphere/css/ie.css?pv0ud8" media="all" />
<![endif]-->

<!--[if IE 6]>
<link type="text/css" rel="stylesheet" href="https://www.vapor.ucar.edu/sites/default/themes/troposphere/css/ie6.css?pv0ud8" media="all" />
<![endif]-->

<!--[if IE 7]>
<link type="text/css" rel="stylesheet" href="https://www.vapor.ucar.edu/sites/default/themes/troposphere/css/ie7.css?pv0ud8" media="all" />
<![endif]-->
  <script type="text/javascript" src="../../sites/default/files/js/js_qikmINIYTWe4jcTUn8cKiMr8bmSDiZB9LQqvceZ6wlM.js"></script>
<script type="text/javascript" src="../../sites/default/files/js/js_f_6-OzlFXjayKlsU5sJKLwjz7LFQvdIZDm-Mt6jKwyM.js"></script>
<script type="text/javascript" src="../../sites/default/files/js/js_sR3RTelOZw0SR_bvHhelrkLY8DKYJcs5zvhbaS-zcpk.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-332815-8", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../../sites/default/files/js/js_ZxgiY_hLe37tS2x4OLfl0ivRyI_9yEJY0M6vxub3dJI.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"troposphere","theme_token":"-2qypzfqIzLZv1AaVtCOBAkj1jF8z7Vl_ZVYOPlZIhI","js":{"sites\/default\/modules\/contrib\/google_cse\/google_cse_results.js":1,"misc\/jquery.js":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/default\/modules\/contrib\/google_cse\/google_cse.js":1,"sites\/default\/modules\/contrib\/tb_megamenu\/js\/tb-megamenu-frontend.js":1,"sites\/default\/modules\/contrib\/tb_megamenu\/js\/tb-megamenu-touch.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"sites\/default\/themes\/atmos\/js\/site.js":1,"sites\/default\/themes\/atmos\/js\/atmos_imgcaption.js":1,"sites\/default\/themes\/troposphere\/js\/script.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/default\/modules\/contrib\/google_cse\/google_cse.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"modules\/forum\/forum.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/default\/modules\/contrib\/tb_megamenu\/css\/bootstrap.css":1,"sites\/default\/modules\/contrib\/tb_megamenu\/css\/base.css":1,"sites\/default\/modules\/contrib\/tb_megamenu\/css\/default.css":1,"sites\/default\/modules\/contrib\/tb_megamenu\/css\/compatibility.css":1,"":1,"sites\/default\/themes\/atmos\/css\/fonts.css":1,"sites\/default\/themes\/atmos\/css\/layout.css":1,"sites\/default\/themes\/atmos\/css\/nice_menus_default.css":1,"sites\/default\/themes\/atmos\/css\/style.css":1,"sites\/default\/themes\/troposphere\/css\/colors.css":1,"sites\/default\/themes\/atmos\/css\/atmos_imgcaption.css":1,"sites\/default\/themes\/atmos\/css\/atmos_tinymce.css":1,"sites\/default\/themes\/atmos\/css\/custom.css":1,"sites\/default\/themes\/troposphere\/css\/override.css":1,"sites\/default\/themes\/atmos\/css\/print.css":1,"sites\/default\/themes\/troposphere\/css\/ie.css":1,"sites\/default\/themes\/troposphere\/css\/ie6.css":1,"sites\/default\/themes\/troposphere\/css\/ie7.css":1}},"googleCSE":{"cx":"016712339613867830978:nuqoefb2ivy","language":"","resultsWidth":600,"domain":"www.google.com","showWaterMark":1},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"urlIsAjaxTrusted":{"\/\/www.google.com\/cse":true,"\/docs\/data-analysis-vapor\/using-ncl-vapor":true}});
//--><!]]>
</script>
  <script type="text/javascript">
  (function() {
    var config = {
      kitId: 'rpo4dvf'
    };
    var d = false;
    var tk = document.createElement('script');
    tk.src = '//use.typekit.net/' + config.kitId + '.js';
    tk.type = 'text/javascript';
    tk.async = 'true';
    tk.onload = tk.onreadystatechange = function() {
      var rs = this.readyState;
      if (d || rs && rs != 'complete' && rs != 'loaded') return;
      d = true;
      try { Typekit.load(config); } catch (e) {}
    };
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(tk, s);
  })();
</script>
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-second page-node page-node- page-node-28561 node-type-doc-book featured" >
  <div id="skip-link">
    <a href="using-ncl-vapor.html#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <!-- TOP NAV -->
<div id="header-wrap">
<!-- <div id="navigation"></div> -->
<div id="header" class="clear-block>">
          <div id="navigation">
<div id="featured" class="clear-block">
      <div class="region region-featured">
    <div id="block-google-cse-google-cse" class="block block-google-cse">

    <h2>Search</h2>
  
  <div class="content">
    

  <form action="http://www.google.com/cse" method="get" id="google-cse-results-searchbox-form" accept-charset="UTF-8"><div><input type="hidden" name="cx" value="016712339613867830978:nuqoefb2ivy" />
<input type="hidden" name="cof" value="FORID:0" />
<div class="form-item form-type-textfield form-item-query">
  <label for="edit-query">Enter your keywords </label>
 <input type="text" id="edit-query" name="query" value="" size="40" maxlength="128" class="form-text" />
</div>
<input type="submit" id="edit-sa" name="op" value="Search" class="form-submit" /><input type="hidden" name="ie" value="utf-8" />
<input type="hidden" name="form_build_id" value="form-PwhEquBp-445DBA5GrXS6Scz4RJm07biG1w_yrfTT04" />
<input type="hidden" name="form_id" value="google_cse_results_searchbox_form" />
</div></form>
<div id="google-cse-results">
  <gcse:searchbox-only gname="google_cse"></gcse:searchbox-only>  <noscript>
    You must enable JavaScript to view the search results.  </noscript>
</div>
  </div>
</div>
  </div>
</div> <!-- /featured --> </div><!-- end navbar -->    
  <div class="section clearfix align-center-wrapper">   
<div id="logo-nav-wrapper">
      <div id="logo-floater">
      <a href="../../index.html" title="Home" rel="home" id="logo">
        <img src="../../sites/default/themes/troposphere/images/vapor-logo-white.png" alt="Home" />
      </a>
    </div>
    <div id="main-nav-wrapper">
        </div>
</div>


    <div id="name-and-slogan">

      <div id="site-name" class="element-invisible">
        <strong>
          <a href="../../index.html" title="Home" rel="home"><span>VAPOR | Computational Information Systems Laboratory</span></a>
        </strong>
      </div>

<div class="nsf-logo"><img src="../../sites/default/themes/troposphere/images/nsf.png"/></div><!-- .slogan -->
    </div> <!-- /#name-and-slogan -->


  </div> <!-- /.section -->
</div> <!-- /#header -->
<div id="header-sub-nav">
  <div class="region region-header">
    <div id="block-search-form" class="block block-search">

    
  <div class="content">
    <form action="using-ncl-vapor.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
      <h2 class="element-invisible">Search form</h2>
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-x0sc47U3mlQ253Kx6895uvgemMQAHr3l__B0Pp2Kv0k" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
</div>
<div id="block-tb-megamenu-main-menu" class="block block-tb-megamenu">

    
  <div class="content">
    <div  class="tb-megamenu tb-megamenu-main-menu">
      <button data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar tb-megamenu-button" type="button">
      <i class="icon-reorder"></i>
    </button>
    <div class="nav-collapse collapse always-show">
    <ul  class="tb-megamenu-nav nav level-0 items-6">
  <li  data-id="6983" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega dropdown">
  <a href="using-ncl-vapor.html#" class="dropdown-toggle">
        
    VAPOR 3          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-1" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-4">
  <li  data-id="6989" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../vapor-3-overview.html" class="">
        
    Overview          </a>
  </li>

<li  data-id="6986" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../features.html" class="">
        
    Features          </a>
  </li>

<li  data-id="6998" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../installation.html" class="">
        
    Installation          </a>
  </li>

<li  data-id="6995" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../training.html" class="">
        
    Training          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="200" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega dropdown">
  <a href="using-ncl-vapor.html#" class="dropdown-toggle">
        
    VAPOR          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-2" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-6">
  <li  data-id="6358" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="1" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../overview.html" class="">
        
    Overview          </a>
  </li>

<li  data-id="6340" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../vapor-features.html" class="">
        
    Features          </a>
  </li>

<li  data-id="5830" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../news.html" class="">
        
    News          </a>
  </li>

<li  data-id="6343" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../credits.html" class="">
        
    Credits          </a>
  </li>

<li  data-id="6346" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../citation.html" class="">
        
    Citing VAPOR          </a>
  </li>

<li  data-id="6349" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../publications.html" class="">
        
    Publications          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="5616" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="justify" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega mega-align-justify dropdown">
  <a href="using-ncl-vapor.html#" class="dropdown-toggle">
        
    Documentation          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="980" style="width: 980px;" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="4" data-hidewcol="" id="tb-megamenu-column-4" class="tb-megamenu-column span4  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-1">
  <li  data-id="5760" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="1" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega mega-group">
  <a href="../usage.html" class="mega-group-title">
        
    Usage          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu mega-group-ct nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-3" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-8">
  <li  data-id="6379" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../usage/getting-started-vapor.html" class="">
        
    Getting Started          </a>
  </li>

<li  data-id="6382" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../usage/vapor-data-preparation.html" class="">
        
    Data Preparation          </a>
  </li>

<li  data-id="6352" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../vapor-tutorials.html" class="">
        
    Tutorials          </a>
  </li>

<li  data-id="6385" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../usage/vapor-gui-general-guide.html" class="">
        
    VAPOR GUI Guide          </a>
  </li>

<li  data-id="6388" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../vapor-gui-general-guide/vapor-rendering.html" class="">
        
    VAPOR GUI Renderer Guide          </a>
  </li>

<li  data-id="6391" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../data-analysis-vapor.html" class="">
        
    Data Analysis          </a>
  </li>

<li  data-id="6355" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../vapor-presentations.html" class="">
        
    Presentations          </a>
  </li>

<li  data-id="6394" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../vapor-faq.html" class="">
        
    FAQ          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>
</ul>
  </div>
</div>

<div  data-class="" data-width="4" data-hidewcol="" id="tb-megamenu-column-6" class="tb-megamenu-column span4  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-1">
  <li  data-id="5763" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="1" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega mega-group">
  <a href="../reference-manuals.html" class="mega-group-title">
        
    Reference          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu mega-group-ct nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-5" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-5">
  <li  data-id="6397" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../reference-manuals/command-line-interface-reference.html" class="">
        
    Command Line Tools          </a>
  </li>

<li  data-id="6400" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../reference-manuals/vapor-idl-extension-reference-manual.html" class="">
        
    IDL          </a>
  </li>

<li  data-id="6403" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../reference-manuals/usage-guides.html" class="">
        
    Usage Guides          </a>
  </li>

<li  data-id="6530" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../reference-manuals/programming-apis.html" class="">
        
    Programming APIs          </a>
  </li>

<li  data-id="5658" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="http://sourceforge.net/projects/vapor" class="">
        
    SourceForge Project Site          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>
</ul>
  </div>
</div>

<div  data-class="" data-width="4" data-hidewcol="0" id="tb-megamenu-column-8" class="tb-megamenu-column span4  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-1">
  <li  data-id="6364" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="1" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega mega-group">
  <a href="../vapor-installation.html" class="mega-group-title">
        
    Installation          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu mega-group-ct nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-7" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-3">
  <li  data-id="6367" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../vapor-installation/release-notes.html" class="">
        
    Release Notes          </a>
  </li>

<li  data-id="6370" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../vapor-installation/vapor-binary-installation.html" class="">
        
    Binary Installation          </a>
  </li>

<li  data-id="6373" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../vapor-installation/vapor-source-installation.html" class="">
        
    Source Installation          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="5661" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="left" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega mega-align-left dropdown">
  <a href="using-ncl-vapor.html#" class="dropdown-toggle">
        
    Gallery          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-10" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-7">
  <li  data-id="6555" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../gallery/weather.html" class="">
        
    Weather          </a>
  </li>

<li  data-id="6561" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../gallery/climate.html" class="">
        
    Climate          </a>
  </li>

<li  data-id="6592" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../gallery/oceanography.html" class="">
        
    Oceanography          </a>
  </li>

<li  data-id="6595" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../gallery/astrophysics.html" class="">
        
    Astrophysics          </a>
  </li>

<li  data-id="6519" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../gallery/Turbulence.html" class="">
        
    Turbulence          </a>
  </li>

<li  data-id="6598" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../gallery/biology.html" class="">
        
    Biology          </a>
  </li>

<li  data-id="6601" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega dropdown-submenu">
  <a href="using-ncl-vapor.html#" class="dropdown-toggle">
        
    Archive          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-9" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-6">
  <li  data-id="6607" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../../gallery/ultra-high-res-sandy-videos.html" class="">
        
    Ultra-High Res Sandy Videos          </a>
  </li>

<li  data-id="6604" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../../gallery/original-sandy-videos.html" class="">
        
    Original Sandy Videos          </a>
  </li>

<li  data-id="6610" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../../term/gallery/sandy-images.html" class="">
        
    Sandy Images          </a>
  </li>

<li  data-id="6616" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../../term/gallery/kisti-2014.html" class="">
        
    KISTI Competition 2014          </a>
  </li>

<li  data-id="6451" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../../gallery/toy-workshop-2008.html" class="">
        
    Toy Workshop 2008          </a>
  </li>

<li  data-id="6558" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="../../gallery/miscellaneous.html" class="">
        
    Miscellaneous          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="6469" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega dropdown">
  <a href="using-ncl-vapor.html#" class="dropdown-toggle">
        
    Downloads          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-11" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-3">
  <li  data-id="6436" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="https://www.docs.vapor.ucar.edu/downloads.html/binary-distributions" class="">
        
    Binary Distributions          </a>
  </li>

<li  data-id="6439" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../internal/downloads/source-distributions.html" class="">
        
    Source Distributions          </a>
  </li>

<li  data-id="6442" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="https://www.docs.vapor.ucar.edu/downloads.html/example-data" class="">
        
    Example Data          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="5691" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega dropdown">
  <a href="using-ncl-vapor.html#" class="dropdown-toggle">
        
    Support          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-12" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-4">
  <li  data-id="5694" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../../forum.html" class="">
        
    Forum          </a>
  </li>

<li  data-id="6406" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="../vapor-faq.html" class="">
        
    FAQ          </a>
  </li>

<li  data-id="5703" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="mailto:vapor@ucar.edu" class="">
        
    Report Bugs          </a>
  </li>

<li  data-id="5601" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega">
  <a href="mailto:vapor@ucar.edu" class="">
        
    Contact Us          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>
</ul>
      </div>
  </div>
  </div>
</div>
  </div>
</div>
</div> <!-- /#header-wrap -->



<div id="wrap">
  <div id="container" class="clear-block">

    <div id="center-wrapper" class="clear-block">

      
      
        <div id="center"><div id="squeeze"><div class="right-corner"><div class="left-corner">

                <div id="tabs-wrapper" class="clear-block"></div>                
      


  <!-- Some content types intentinally strip $node->title in the node-CONTENT_TYPE.tpl.php file.
  Views and panels are not content types, so no $node->type, but do have $title.  Check for that first.
  If there is a $node->type, check to see if $node->title exists -->
<div id="content-head"><div class="breadcrumbs"><h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="../../index.html">Home</a> » <a href="../usage.html">Usage</a> » <a href="../data-analysis-vapor.html">Data Analysis with VAPOR</a></div></div><h1 class="title with-tabs">Using NCL with VAPOR</h1></div>          <div id="main-content" class="clear-block">
            
              <div class="region region-content">
    <div id="block-system-main" class="block block-system">

    
  <div class="content">
    <div id="node-28561" class="node node-doc-book node-full clearfix">

      
  
  <div class="content clearfix">
    <div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><p>This page describes how to use NCL scripts to create plots of WRF data that can be displayed in VAPOR scenes.    Cindy Bruyere has provided an NCL library (WRFUserARW.ncl) and numerous scripts to facilitate plotting WRF data with NCL. These scripts (which we shall call WRF-NCL scripts) can be modified to produce geo-referenced TIFF files (geotiffs), which can be read by VAPOR. Many example scripts are found at <a href="http://www.mmm.ucar.edu/wrf/OnLineTutorial/Graphics/NCL/NCL_examples.htm">http://www.mmm.ucar.edu/wrf/OnLineTutorial/Graphics/NCL/NCL_examples.htm</a> . For more information about these scripts refer to the <a href="http://www.ncl.ucar.edu/Document/Functions/wrf.shtml">NCL WRF</a> documentation.</p><p><br />To illustrate these methods, there is an on-line tutorial on the VAPOR website, entitled “<a href="../../page/ncl-and-vapor.html">Using NCL with VAPOR to Visualize WRF-ARW data</a>.” That document shows in detail how three different NCL scripts can be converted to geotiffs and displayed in VAPOR.</p><p><br />The conversion process involves modifying a WRF-NCL script to generate a geo-referenced TIFF (geoTiff) file of the plots, which can then be incorporated into a VAPOR visualization session. The process generally involves making minor modifications at three key points in the script: after opening the NCL 'workstation', after creating the plot that is to be captured, and before exiting the script. There are two additional constraints: the workstation type must be postscript, and frame-advance between plots must be explicitly managed.</p><p>Note that you should only produce one plot for each time step of the data. If your NCL script produces multiple plots for each time step, it should be modified to only produce one of the plots at each time step. You can visualize multiple images in the vapor scene at the same time step; however, these images need to be in different geoTiff files. To visualize multiple plots per time step, you can make multiple geoTiffs, by using several NCL scripts, one for each of the different plots.</p><p><br />When the NCL plots are horizontal, mapped to the WRF domain, then the resulting geoTiff images will be aligned to match the geo-referencing when shown in VAPOR. However, if the plot is vertical, it will not be geo-referenced, and it must be aligned in the VAPOR GUI <a href="../vapor-renderer-guide/2d-data.html" title="2D Data">2DData panel</a> by the user to correctly fit in the coordinates of the domain.</p><p>Four sample NCL scripts are provided in the VAPOR distribution, in the directory $VAPOR_HOME/share/examples/NCL.  (On Mac these are found in $VAPOR_HOME/Contents/SharedSupport/examples/NCL).  These scripts are wrf_cloud.ncl, wrf_EtaLevels.ncl, wrf_pv.ncl and wrf_surface.ncl, and are modifications of scripts of the same names provided on the NCL-WRF example web page noted above. To use these scripts, you will need to edit them, to change the names of the wrf output files that are specified in the scripts.</p><p>Note that for wrf2geotiff.ncl to work correctly, you must have the file “.hluresfile” in your Unix home directory. A sample file is at <a href="http://www.ncl.ucar.edu/Document/Graphics/hlures.shtml">http://www.ncl.ucar.edu/Document/Graphics/hlures.shtml</a> .</p><p><br />Overview:<br />A typical WRF-NCL script for plotting WRF data is of the general form:</p><p><br /><span style="font-family: courier new,courier;">; load supporting libraries </span></p><p><span style="font-family: courier new,courier;">load "..."</span><br /><span style="font-family: courier new,courier;">; open WRF files... </span></p><p><span style="font-family: courier new,courier;">...</span><br /><span style="font-family: courier new,courier;">; open workstation </span></p><p><span style="font-family: courier new,courier;">wks = gsn_open_wks("ps", "wrfPlot")</span><br /><span style="font-family: courier new,courier;">; set up resources, generate contours, etc. </span></p><p><span style="font-family: courier new,courier;">...</span><br /><span style="font-family: courier new,courier;">; overlay the plot on a map </span></p><p><span style="font-family: courier new,courier;">plot = wrf_map_overlay(wrfFile, wks, (/contour/), pltres, mapres)</span></p><p>It is also common to see the plot-generation code segment inside a loop over time or over a collection of files:</p><p><span style="font-family: courier new,courier;">; loop over each timestamp do i=0, numTimes-1</span></p><p><span style="font-family: courier new,courier;">...</span><br /><span style="font-family: courier new,courier;">plot = wrf_map_overlays(......) </span></p><p><span style="font-family: courier new,courier;">end do</span></p><p><br /><strong>Modifying scripts for geotiff output:</strong></p><p>The script below shows the previous example template, modified to generate a geotiff file; the new lines of code are shown <span style="text-decoration: underline; color: #ff0000;">in color</span>. The key points to note are: i) inclusion of the wrf2geotiff library, ii) opening the geotiff output process, iii) setting resources for explicit frame advance, iv) writing each plot to the geotiff output process, and v) closing the geotiff output process. Note that in opening the geotiff output process, an opaque variable is created that should be passed to other calls to the wrf2geotiff library. The full wrf2geotiff library and the meaning of parameters passed to the functions follows below.</p><p><br /><span style="font-family: courier new,courier;">; load supporting libraries </span></p><p><span style="font-family: courier new,courier;">load "..." </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; NOTE 1: On Windows, the file wrf2geotiff.ncl is located in </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; $VAPOR_HOME/share/examples/NCL/.</span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; However, if the path to $VAPOR_HOME contains blank characters,</span><span style="font-family: courier new,courier; color: #ff0000;"> </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; you should copy the file wrf2geotiff.ncl to another directory </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; and load it from that directory in the load statement below. </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; NCL will not correctly handle blanks</span><span style="font-family: courier new,courier; color: #ff0000;"> in directory names.</span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; NOTE 2:  On Mac, the file wrf2geotiff.ncl is located in<br /></span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; $VAPOR_HOME/Contents/SharedSupport/examples/NCL, which is by default at<br /></span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; /Applications/VAPOR/VAPOR.app/Contents/SharedSupport/examples/NCL<br /></span></p><p><span style="font-family: courier new,courier; color: #ff0000;">;<br /></span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; load the wrf2geotiff library: </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">load "$VAPOR_HOME/share/examples/NCL/wrf2geotiff.ncl"</span><br /><span style="font-family: courier new,courier;">; open WRF files... ...</span><br /><span style="font-family: courier new,courier;">; open workstation </span></p><p><span style="font-family: courier new,courier;">wks = gsn_open_wks("ps", "wrfPlot")</span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; following must be performed once, after opening a workstation but before plots are generated. </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; It creates an opaque object that is passed to other wrf2geotiff functions. </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">wrf2gtiff = wrf2geotiff_open(wks)</span><br /><span style="font-family: courier new,courier;">...</span><br /><span style="font-family: courier new,courier; color: #ff0000;">; IMPORTANT! You must explicitly manage frame-advance. </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; Here we modify the resource that gets passed to wrf_map_overlays below </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">pltres = True </span></p><p><span style="font-family: courier new,courier; color: #ff0000;"><a href="mailto:pltres@FramePlot">pltres@FramePlot</a> = False   ; we'll make frame advance below</span><br /><span style="font-family: courier new,courier;">; loop over each timestamp </span></p><p><span style="font-family: courier new,courier;">do i=0, numTimes-1</span><br /><span style="font-family: courier new,courier;">    ... </span></p><p><span style="font-family: courier new,courier;">    plot = wrf_map_overlays(......)</span></p><p><span style="font-family: courier new,courier; color: #ff0000;">    ; write the plot just created and advance the frame... </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">    wrf2geotiff_write(wrf2gtiff, wrfFile, times(it), wks, plot, True) </span></p><p><span style="font-family: courier new,courier; color: #ff0000;">    frame(wks)    ; frame-advance</span></p><p><span style="font-family: courier new,courier;">end do</span></p><p><span style="font-family: courier new,courier; color: #ff0000;">; close the geotiff file...</span></p><p><span style="font-family: courier new,courier; color: #ff0000;">wrf2geotiff(wrf2gtiff, wks)</span></p><p><strong>The wrf2geotiff library:</strong></p><p>wrf2geotiff_open(wks):</p><p>Called once to open a geotiff file for writing. The name of the geotiff file will be the same as the output file of the workstation, except with a suffix of .gtif.</p><p style="padding-left: 30px;"><em>Parameters:</em></p><p style="padding-left: 30px;">wks    the workstation object<br /><em>Returns:</em> An opaque object that is passed to subsequent wrf2geotiff functions.</p><p><br />wrf2geotiff_write(wrf2gtif, wrfFile, timeStamp, wks, plotObject, cropped):</p><p><br />Called for each plot that is to be written to the geotiff file.</p><p style="padding-left: 30px;"><br /><em>Parameters: </em></p><p style="padding-left: 30px;">wrf2gtif: the opaque object created by the call to wrf2geotiff_open()</p><p style="padding-left: 30px;">wrfFile: the WRF input file used to generate the plot; used here to extract georeferencing information</p><p style="padding-left: 30px;">timeStamp: a timestamp string, typically obtained from the WRF file.</p><p style="padding-left: 30px;">wks: the workstation object</p><p style="padding-left: 30px;">plotObject: the plot object to be written</p><p style="padding-left: 30px;">cropped: a boolean indicating whether the plot should be cropped at the plot frame. Setting this to false causes the plot and its surrounding labeling/annotations to be written into the geotiff.</p><p style="padding-left: 30px;"><br /><em>Returns:</em> Nothing</p><p>    <br />wrf2geotiff_close(wrf2gtiff, wks):</p><p>Called once after all output has been written to workstation. This call has the side-effect of closing and flushing all pending operations on the workstation, such that any subsequent attempts to use the workstation will be undefined.</p><p style="padding-left: 30px;"><br /><em>Parameters: </em></p><p style="padding-left: 30px;">wrf2gtif    the opaque object created by the call to wrf2geotiff_open()<br />wks    the workstation object<br /><em>Returns:</em> Nothing</p><p style="padding-left: 30px;"> </p><p><strong>Advanced functions:</strong></p><p><br />wrf2geotiff_setOutputScale(wrf2gtif, scaleFactor):</p><p><br />By default, images in the geotiff are of the same size, in pixels, as the postscript page when rasterized. This function can be used to scale the images to something smaller or larger. Applies to the entire collection of plots, and if called more than once, the scaleFactor of the last plot is what is used.</p><p style="padding-left: 30px;"><br /><em>Parameters: </em></p><p style="padding-left: 30px;">wrf2gtif: the opaque object created by the call to wrf2geotiff_open()</p><p style="padding-left: 30px;">scaleFactor: a multiplier for the image size<br /><em>Returns:</em> Nothing</p><p><br />wrf2geotiff_disableGeoTags(wrf2gtif, scaleFactor):</p><p><br />Vapor automatically positions geotiff images into a scene. But it can also allow a user to interactively position images that are not georeferenced. In particular, plots of WRF data that are vertical cross-sections have nonsensical geo-coordinates (a non-zero area is required). Calling this function prevents geotiff tags from being written to the tiff file. As the timestamps are still written into the tiff file, the user can place the image interactively and Vapor can animate it through time.</p><p style="padding-left: 30px;"><em>Parameters:</em> wrf2gtif: the opaque object created by the call to wrf2geotiff_open()<br /><em>Returns:</em> Nothing</p><p><br /><strong>Usage Notes:</strong><br /><em>required external programs:</em> psplit,  convert, tiff2geotiff<br /><br /></p><p>These external programs must be available and visible via the user's PATH environment variable. psplit is distributed with NCL, and tiff2geotiff is part of the VAPOR distribution. convert is part of the ImageMagick suite of image processing tools, which is commonly part of most Linux distributions, and is freely downloadable from the Web.</p><p><br />Space requirements:<br />The conversion to geotiff creates various intermediate files. These are written to the /tmp directory, and they are generally removed after use. Depending upon the size of the resultant geotiff, a fair amount of temporary disk space can be required. Experiments with Hurricane Ike simulation data have resulted in geotiffs of several hundred megabytes, for an image composed of 100+ frames/timesteps. The amount of required temporary space is comparable to the size of the resultant geotiff file.</p><p><br />Future Plans:<br />Ultimately it is preferable to generate geotiff output directly from NCL. Efforts are currently underway in NCL's development that will facilitate this. Such a capability will eliminate much, if not the entire requirement to modify scripts in the manner described herein.</p></div></div></div>  <div id="book-navigation-28977" class="book-navigation">
    
        <div class="page-links clearfix">
              <a href="using-idl-vapor.html" class="page-previous" title="Go to previous page">‹ Using IDL with VAPOR</a>
                    <a href="../data-analysis-vapor.html" class="page-up" title="Go to parent page">up</a>
                    <a href="using-python-vapor.html" class="page-next" title="Go to next page">Using Python with VAPOR ›</a>
          </div>
    
  </div>
  </div>

  
  
</div>
  </div>
</div>
  </div>
          </div>
          <div class="feed_icons">
                      </div>

        </div></div></div></div> <!-- /.left-corner, /.right-corner, /#squeeze, /#center -->

            <div id="rightcol" class="sidebar">
            <div class="region region-sidebar-second">
    <div id="block-book-navigation" class="block block-book">

    <h2><a href="../usage.html" class="book-title">Usage</a></h2>
  
  <div class="content">
    <ul class="menu clearfix"><li class="first collapsed"><a href="../usage/getting-started-vapor.html">Getting Started with VAPOR</a></li>
<li class="expanded active-trail"><a href="../data-analysis-vapor.html" class="active-trail">Data Analysis with VAPOR</a><ul class="menu clearfix"><li class="first leaf"><a href="../usage/data-statistics.html">Data Statistics</a></li>
<li class="leaf"><a href="../usage/plot-utility.html">Plot Utility</a></li>
<li class="leaf"><a href="using-idl-vapor.html">Using IDL with VAPOR</a></li>
<li class="leaf active-trail"><a href="using-ncl-vapor.html" class="active-trail active">Using NCL with VAPOR</a></li>
<li class="last leaf"><a href="using-python-vapor.html">Using Python with VAPOR</a></li>
</ul></li>
<li class="collapsed"><a href="../usage/vapor-data-preparation.html">VAPOR Data Preparation</a></li>
<li class="leaf"><a href="../vapor-faq.html">VAPOR FAQ</a></li>
<li class="collapsed"><a href="../usage/vapor-gui-general-guide.html">VAPOR GUI General Guide</a></li>
<li class="last collapsed"><a href="../vapor-gui-general-guide/vapor-rendering.html">Vapor Rendering</a></li>
</ul>  </div>
</div>
<div id="block-nodeblock-22858" class="block block-nodeblock">

    <h2>Download button</h2>
  
  <div class="content">
    <div id="node-22858" class="node node-nodeblock clearfix">
  
<div class="content clearfix"><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><p style="margin: 0;"><a class="button" style="width: 100%; padding: 20px 0;" href="https://www.docs.vapor.ucar.edu/downloads.html">Download Vapor</a></p></div></div></div></div>



  
  
</div>
  </div>
</div>
  </div>
        </div> <!-- /#rightcol -->
    
  
    </div> <!-- /center-wrapper -->
  
  
  
      <div class="footernav">
        <div class="region region-footer">
    <div id="block-nodeblock-22831" class="block block-nodeblock">

    <h2>VAPOR Sponsors</h2>
  
  <div class="content">
    <div id="node-22831" class="node node-nodeblock clearfix">
  
<div class="content clearfix"><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><h3 style="text-align: center; color: #fff; margin-bottom: 40px; font-size: 20px;">SPONSORS</h3>
<p><img src="../../sites/default/files/users/geinosky/vapor-sponsors.png" alt="VAPOR sponsors" width="980" height="132" /></p></div></div></div></div>



  
  
</div>
  </div>
</div>
<div id="block-block-1" class="block block-block">

    
  <div class="content">
    <!-- OrgNavFooter Script -->
<script>

// CUSTOM VARIABLES
var contactLink = "/contact";     // enter your Contact/Feedback link or mailto: link
var hideOrgNav = false;        // hide the entire OrgNav from view
var hideFooter = false;          // hide the entire OrgFooter from view
var hideNSF = false;               // hide the NSF disclaimer
var footerColor = '#666';       // hex color of the footer font including the #

// DO NOT EDIT BELOW THIS POINT
var jsHost = (("https:" == document.location.protocol) ? "https://" : "http://");
if(typeof jQuery === "undefined"){
  document.write("<scr"+"ipt src='"+jsHost+"ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js' type='text/javascript'></scr"+"ipt>");
}
document.write("<scr"+"ipt src='https://orgnav.ucar.edu/orgnav.js' type='text/javascript'></scr"+"ipt>");
</script>
<noscript><iframe frameborder="0" width="100%" src="https://orgnav.ucar.edu/noscript.html"></iframe></noscript>
<!-- END OrgNavFooter Script -->  </div>
</div>
<div id="block-block-2" class="block block-block">

    
  <div class="content">
    <div id="loginlink" align="center">
<a href="../../user.html">Login</a>
</div>  </div>
</div>
  </div>
    </div> <!-- /#footernav -->
  
  </div><!-- /#container -->
</div> <!-- /#wrap -->
<!-- /layout -->

  <script type="text/javascript" src="../../sites/default/files/js/js_KpbuXFbunBaGjtuvRkOuscNXQlFkv4Fjgh1fiknomL8.js"></script>
  <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0022/4903.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>
</body>
</html>
